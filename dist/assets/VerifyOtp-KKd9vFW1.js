import{r as v,j as s,a as R,d as S,b as $,u as F,k as N,q as A}from"./index-CchdiQHP.js";import{L as T}from"./Loader-FDoDSk6I.js";import{B}from"./button-D9z1s4re.js";import{c as M,d as O}from"./DialogContent-DAZpCkVw.js";import{u as W}from"./Backdrop-Bswgfnfg.js";import{b as U,g as _,q as w,i as C,s as q,l as z,c as D,m as E,h as H,e as K,f as I}from"./Typography-BbdiCIsw.js";import{i as j}from"./isFocusVisible-BwX48_C4.js";import"./Box-B9xTlb4A.js";import"./hoist-non-react-statics.cjs-DQogQWOa.js";function G(e){return _("MuiLink",e)}const J=U("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),Q=({theme:e,ownerState:t})=>{const n=t.color,l=w(e,`palette.${n}`,!1)||t.color,c=w(e,`palette.${n}Channel`);return"vars"in e&&c?`rgba(${c} / 0.4)`:C(l,.4)},L={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},X=e=>{const{classes:t,component:n,focusVisible:l,underline:c}=e,i={root:["root",`underline${D(c)}`,n==="button"&&"button",l&&"focusVisible"]};return I(i,G,t)},Y=q(z,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${D(n.underline)}`],n.component==="button"&&t.button]}})(E(({theme:e})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:t,ownerState:n})=>t==="always"&&n.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(e.palette).filter(H()).map(([t])=>({props:{underline:"always",color:t},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette[t].mainChannel} / 0.4)`:C(e.palette[t].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:C(e.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette.text.secondaryChannel} / 0.4)`:C(e.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(e.vars||e).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${J.focusVisible}`]:{outline:"auto"}}}]}))),Z=v.forwardRef(function(t,n){const l=K({props:t,name:"MuiLink"}),c=W(),{className:i,color:u="primary",component:d="a",onBlur:p,onFocus:f,TypographyClasses:m,underline:g="always",variant:b="inherit",sx:y,...r}=l,[o,a]=v.useState(!1),h=x=>{j(x.target)||a(!1),p&&p(x)},V=x=>{j(x.target)&&a(!0),f&&f(x)},k={...l,color:u,component:d,focusVisible:o,underline:g,variant:b},P=X(k);return s.jsx(Y,{color:u,className:R(P.root,i),classes:m,component:d,onBlur:h,onFocus:V,ref:n,ownerState:k,variant:b,...r,sx:[...L[u]===void 0?[{color:u}]:[],...Array.isArray(y)?y:[y]],style:{...r.style,...g==="always"&&u!=="inherit"&&!L[u]&&{"--Link-underlineColor":Q({theme:c,ownerState:k})}}})}),ce=({open:e,onClose:t,email:n})=>{const l=S(),c=$(),[i,u]=v.useState(new Array(4).fill("")),{registeredMail:d,isForgotPassword:p,isLoading:f}=F(r=>r.auth),m=i.map(()=>v.useRef(null)),g=(r,o)=>{const a=o.target.value;if(/^\d{1}$/.test(a)){const h=[...i];h[r]=a,u(h),r<3&&m[r+1].current.focus()}},b=(r,o)=>{if(r.key==="Backspace")if(i[o]==="")o>0&&m[o-1].current.focus();else{const a=[...i];a[o]="",u(a)}},y=()=>{const r=i.join(""),o={otp:parseInt(r),email:d,is_forgot_password:p?"1":"0"};l(A(o,c))};return s.jsxs(s.Fragment,{children:[s.jsx(M,{open:!0,fullWidth:!0,maxWidth:"xs",PaperProps:{sx:{borderRadius:4}},children:s.jsx(O,{children:s.jsxs("div",{className:"items-center mx-auto flex flex-col gap-4 font-albert-sans",children:[s.jsx("p",{className:"font-medium text-lg",children:"Verify your email"}),s.jsxs("p",{children:["We sent a code to ",s.jsx("span",{className:"font-bold",children:n})]}),s.jsx("div",{className:"flex  space-x-2",children:i.map((r,o)=>s.jsx("input",{value:r,onChange:a=>g(o,a),onKeyDown:a=>b(a,o),ref:m[o],maxLength:1,className:"w-14 h-14 text-center text-2xl border border-gray-300 rounded-lg focus:border-red-500 outline-none",type:"text"},o))}),s.jsxs("p",{children:["Didnâ€™t get a code?"," ",s.jsx(Z,{onClick:()=>l(N({email:d,is_forgot_password:p||!1},c,null)),children:"Click to resend"})]}),s.jsx(B,{type:"submit",text:"Continue",disabled:i.join("").length!==4,onClick:y,children:"Continue"})]})})}),f&&s.jsx(T,{open:f})]})};export{ce as default};
